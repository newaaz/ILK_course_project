<%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
  <div class="container"><%= render "partners/shared/error_messages", resource: resource %></div>
  <main class="form-signin text-center" style="max-width: 420px;width: 100%;margin: auto;">

    <%= link_to image_tag('logo.png', class:'my-4'), root_path %>    
    <h1 class="h3 mb-3 fw-normal">Регистрация</h1>    
  
    <div class="form-group text-start">
      <%= f.label :email %>
      <%= f.email_field :email, class:"form-control mt-2 mb-3", autofocus: true %>
    </div>
    <div class="form-group text-start">
      <%= f.label :password %><small class="form-text">&nbsp; / Не менее 6 символов</small>
      <%= f.password_field :password, class:"form-control mt-2 mb-2" %>      
    </div>
    <div class="form-group text-start">
        <%= f.label :password_confirmation, "Подтверждение пароля" %>
        <%= f.password_field :password_confirmation, class:"form-control mt-2 mb-3" %>
    </div>

    <%= f.invisible_captcha :subtitle %>

    <div class="mb-4 mt-3">
      <input type="checkbox" id="politics" onclick="check();" value="" class="form-check-input" autocomplete="off" required />
      <label class="form-check-label" for="politics"><small>
        Даю <%= link_to "согласие на обработку персональных данных", privacy_url %>.</small>
      </label>
    </div> 

    <%= f.submit "Зарегистрироваться", class:"w-75 btn btn-primary mb-4", disabled:"" %>
    <br>
    <%= render "partners/shared/links" %>
  </main>  
<% end %>

<script>
  function check() {
    var submit = document.getElementsByName('commit')[0];
    if (document.getElementById('politics').checked)
      submit.disabled = '';
    else
      submit.disabled = 'disabled';
  }
</script>

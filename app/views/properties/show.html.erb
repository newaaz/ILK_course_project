<% provide :turbo_cache_control do %>
  <meta name="turbo-cache-control" content="no-cache">
<% end %>

<main>

<section class="py-0 pt-sm-4">
	<div class="container position-relative">
		<!-- Title and button START -->
		<div class="row mb-3 border-bottom pb-2">
			<div class="col-12">
				<!-- Meta -->
				<div class="d-lg-flex justify-content-lg-between mb-1">
					<!-- Title -->
					<div class="mb-2 mb-lg-0">
						<h1 class="h3"><%= @property.title %></h1>
						<!-- Location -->
						<p class="fw-bold mb-0"><i class="bi bi-geo-alt me-2"></i>
							<%= "#{@property.town.name}, #{@property.address}" %>
							<!--
							<a href="#" class="ms-2 text-decoration-underline" data-bs-toggle="modal" data-bs-target="#mapmodal">
								<i class="bi bi-eye-fill me-1"></i>View On Map
							</a>							
							-->
						</p>						
					</div>
					
					<ul class="list-inline text-end">
						<li class="list-inline-item">
							<a href="#" class="btn btn-sm btn-light px-2"><i class="bi bi-heart text-orange" style="font-size: 1.5rem;"></i></a>
						</li>
						<li class="list-inline-item dropdown">
							<a href="#" class="btn btn-sm btn-light px-2" role="button" id="dropdownShare" data-bs-toggle="dropdown" aria-expanded="false">
								<i class="bi bi-share text-orange" style="font-size: 1.5rem;"></i>
							</a>
							<ul class="dropdown-menu dropdown-menu-end min-w-auto shadow rounded" aria-labelledby="dropdownShare">
								<li><a class="dropdown-item" href="#"><i class="bi bi-google me-2"></i>LinkedIn</a></li>
								<li><a class="dropdown-item" href="#"><i class="bi bi-back me-2"></i>Copy link</a></li>
							</ul>
						</li>
					</ul>
					
				</div>
			</div>
		</div>
		<!-- Title and button END -->		
	</div>
</section>

<!-- Photo & contacts -->
<section class="card-grid pt-0" data-controller="fotorama">
	<div class="container">
		<div class="row g-2">
      <div class="col-lg-8 px-0">
        <!-- fotorama begin -->        
        <div class="fotoramain mt-2 property-images">
          <%= link_to image_tag(@property.avatar.variant(resize_to_limit: [100, 100])), @property.avatar %>
          <% @property.images.each do |image| %>
            <%= link_to image_tag(image.variant(resize_to_limit: [100, 100])), image %>
          <% end %>
        </div>        
        <!-- fotorama end -->
      </div>

      <div class="col-lg-4 px-lg-4 px-sm-0">
				<%#= render 'properties/templates/booking_form' %>
				<%= render 'properties/templates/contacts' %>
      </div>			
		</div>
	</div>
</section>

<!-- About -->
<section class="pt-0">
	<div class="container" data-sticky-container>

		<%= @property.property_detail %>

		<%= @property.contact %>

		<div class="row g-4 g-xl-5">
			<!-- Content START -->
			<div class="col-xl-8 order-1">
				<div class="vstack gap-5">
				
				  <% if @property.rooms.any? %>
            <!-- Room START -->
            <div class="card bg-transparent" id="room-options">
              <!-- Card header -->
              <div class="card-header border-bottom bg-transparent px-0 pt-0">
                <div class="d-sm-flex justify-content-sm-between align-items-center">
                  <h3 class="mb-2 mb-sm-0">Rooms</h3>								
                </div>
              </div>

              <!-- Card body START -->
              <div class="card-body pt-4 p-0">
                <div class="vstack gap-4">
                  <%= render @property.rooms %>
                </div>
              </div>
              <!-- Card body END -->
            </div>
            <!-- Room END -->
          <% end %>

					<!-- About hotel START -->
					<div class="card bg-transparent">
						<!-- Card header -->
						<div class="card-header border-bottom bg-transparent px-0 pt-0">
							<h3 class="mb-0">About This Hotel</h3>
						</div>

						<!-- Card body START -->
						<div class="card-body pt-4 p-0">
							<h5 class="fw-light mb-4">Main Highlights</h5>

							<!-- Highlights Icons -->
							<div class="hstack gap-3 mb-3">
								<div class="icon-lg bg-light h5 rounded-2" data-bs-toggle="tooltip" data-bs-placement="top" title="Free wifi">
									<i class="bi bi-wifi"></i>
								</div>
								<div class="icon-lg bg-light h5 rounded-2" data-bs-toggle="tooltip" data-bs-placement="top" title="Swimming Pool">
									<i class="bi bi-star"></i>
								</div>
								<div class="icon-lg bg-light h5 rounded-2" data-bs-toggle="tooltip" data-bs-placement="top" title="Central AC">
									<i class="bi bi-tv"></i>
								</div>
								<div class="icon-lg bg-light h5 rounded-2" data-bs-toggle="tooltip" data-bs-placement="top" title="Free Service">
									<i class="bi bi-bell"></i>
								</div>
							</div>

							<p class="mb-3">Demesne far-hearted suppose venture excited see had has. Dependent on so extremely delivered by. Yet no jokes worse her why. <b>Bed one supposing breakfast day fulfilled off depending questions.</b></p>
							<p class="mb-0">Delivered dejection necessary objection do Mr prevailed. Mr feeling does chiefly cordial in do. Water timed folly right aware if oh truth. Large above be to means. Dashwood does provide stronger is.</p>
							
							<div class="collapse" id="collapseContent">
								<p class="my-3">We focus a great deal on the understanding of behavioral psychology and influence triggers which are crucial for becoming a well rounded Digital Marketer. We understand that theory is important to build a solid foundation, we understand that theory alone isn't going to get the job done so that's why this rickets is packed with practical hands-on examples that you can follow step by step.</p>
								<p class="mb-0">Behavioral psychology and influence triggers which are crucial for becoming a well rounded Digital Marketer. We understand that theory is important to build a solid foundation, we understand that theory alone isn't going to get the job done so that's why this tickets is packed with practical hands-on examples that you can follow step by step.</p>
							</div>
							<a class="p-0 mb-4 mt-2 btn-more d-flex align-items-center collapsed" data-bs-toggle="collapse" href="#collapseContent" role="button" aria-expanded="false" aria-controls="collapseContent">
								See <span class="see-more ms-1">more</span><span class="see-less ms-1">less</span><i class="fa-solid fa-angle-down ms-2"></i>
							</a>

							<!-- List -->
							<h5 class="fw-light mb-2">Advantages</h5>
							<ul class="list-group list-group-borderless mb-0">
								<li class="list-group-item h6 fw-light d-flex mb-0"><i class="bi bi-patch-check-fill text-success me-2"></i>Every hotel staff to have Proper PPT kit for COVID-19</li>
								<li class="list-group-item h6 fw-light d-flex mb-0"><i class="bi bi-patch-check-fill text-success me-2"></i>Every staff member wears face masks and gloves at all service times.</li>
								<li class="list-group-item h6 fw-light d-flex mb-0"><i class="bi bi-patch-check-fill text-success me-2"></i>Hotel staff ensures to maintain social distancing at all times.</li>
								<li class="list-group-item h6 fw-light d-flex mb-0"><i class="bi bi-patch-check-fill text-success me-2"></i>The hotel has In-Room Dining options available </li>
							</ul>
						</div>
						<!-- Card body END -->
					</div>
					<!-- About hotel START -->

				</div>	
			</div>
			<!-- Content END -->

			<!-- Right side content START -->
			<aside class="col-xl-4 order-xl-2">
				<div data-sticky-dont-work data-margin-top="100" data-sticky-for="1199">

					<%= render 'properties/templates/price_start' %>

					<%= render 'geolocations/show_map', object: @property, preset_icon: "islands#blueHomeIcon" %>

					<% if @nearby_properties.any? %>
						<%= render 'properties/templates/nearby_properties' %>
					<% end %>
				</div>	
			</aside>
			<!-- Right side content END -->
		</div> <!-- Row END -->
	</div>
</section>


</main>

<!-- Map modal START -->
<div class="modal fade" id="mapmodal" tabindex="-1" aria-labelledby="mapmodalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered modal-lg">
		<div class="modal-content">
			<!-- Title -->
			<div class="modal-header">
				<h5 class="modal-title" id="mapmodalLabel">View Our Hotel Location</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<!-- Map -->
			<div class="modal-body p-0">				
				<div class="p-5">Modal map</div>
			</div>
			<!-- Button -->
			<div class="modal-footer">
			</div>
		</div>
	</div>
</div>
<!-- Map modal END -->






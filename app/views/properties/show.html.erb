<% provide :turbo_cache_control do %>
  <meta name="turbo-cache-control" content="no-cache">
<% end %>

<main>
	<!-- breadcrumbs -->
	<div class="container">
		<nav aria-label="breadcrumb">
			<ol class="breadcrumb">
				<li class="breadcrumb-item"><a href="#">Home</a></li>
				<li class="breadcrumb-item"><a href="#">Library</a></li>
				<li class="breadcrumb-item active" aria-current="page">Data</li>
			</ol>
		</nav>
	</div>

	<!-- title -->
	<section class="py-0">
		<div class="container position-relative">
			<!-- Title and button START -->
			<div class="row mb-3 border-bottom pb-2">
				<div class="col-12">
					<!-- Meta -->
					<div class="d-lg-flex justify-content-lg-between mb-1">
						<!-- Title -->
						<div class="mb-2 mb-lg-0">
							<h1 class="h3"><%= @property.title %></h1>
							<!-- Location -->
							<p class="fw-bold mb-0"><i class="bi bi-geo-alt me-2"></i>
								<%= "#{@property.town.name}, #{@property.address}" %>
								<!--
								<a href="#" class="ms-2 text-decoration-underline" data-bs-toggle="modal" data-bs-target="#mapmodal">
									<i class="bi bi-eye-fill me-1"></i>View On Map
								</a>							
								-->
							</p>						
						</div>
						
						<ul class="list-inline text-end">
							<li class="list-inline-item">
								<a href="#" class="btn btn-sm btn-orange-soft px-2"><i class="bi bi-heart" style="font-size: 1.5rem;"></i></a>
							</li>
							<li class="list-inline-item dropdown">
								<a href="#" class="btn btn-sm btn-light px-2" role="button" id="dropdownShare" data-bs-toggle="dropdown" aria-expanded="false">
									<i class="bi bi-share text-orange" style="font-size: 1.5rem;"></i>
								</a>
								<ul class="dropdown-menu dropdown-menu-end min-w-auto shadow rounded" aria-labelledby="dropdownShare">
									<li><a class="dropdown-item" href="#"><i class="bi bi-google me-2"></i>LinkedIn</a></li>
									<li><a class="dropdown-item" href="#"><i class="bi bi-back me-2"></i>Copy link</a></li>
								</ul>
							</li>
						</ul>
						
					</div>
				</div>
			</div>
			<!-- Title and button END -->		
		</div>
	</section>

	<!-- Photo & contacts -->
	<section class="card-grid pt-0" data-controller="fotorama">
		<div class="container">
			<div class="row g-2">
				<div class="col-lg-8 px-0">
					<!-- fotorama begin -->        
					<div class="fotoramain mt-2 property-images">
						<%= link_to image_tag(@property.avatar.variant(resize_to_limit: [100, 100])), @property.avatar %>
						<% @property.images.each do |image| %>
							<%= link_to image_tag(image.variant(resize_to_limit: [100, 100])), image %>
						<% end %>
					</div>        
					<!-- fotorama end -->
				</div>

				<aside class="col-lg-4 px-lg-4 px-sm-0 mt-3">
					<%#= render 'properties/show/booking_form' %>
					<%= render 'properties/show/contacts' %>
				</aside>			
			</div>
		</div>
	</section>

	<section class="pt-0" data-controller="property-show">
		<div class="container">
			<div class="row g-2 g-xl-3">
				<div class="col-xl-8 order-1">
					<ul class="nav nav-tabs nav-bottom-line mb-3">
						<li class="nav-item me-2">
							<a class="nav-link active" data-bs-toggle="tab" href="#tab-description">Описание</a>
						</li>
						<% if @property.rooms.any? %>
							<li class="nav-item">
								<a class="nav-link" data-bs-toggle="tab" href="#tab-rooms">Номера</a>
							</li>
						<% end %>
						<li class="nav-item">
							<a class="nav-link" data-bs-toggle="tab" href="#tab-additional">Подробно</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" data-bs-toggle="tab" href="#tab-map">Карта</a>
						</li>
					</ul>

					<div class="tab-content">
						<%= render 'properties/show/tab_description' %>

						<% if @property.rooms.any? %>
							<%= render 'properties/show/tab_rooms' %>
						<% end %>

						<div class="tab-pane" id="tab-additional">
							On the service we give to our clients. Our friendly team members are always willing to help you understand your present technology requirements and provide suggestions on your future needs. It can be the packaging of an item or the design of its website and Applications.
						</div>

						<div class="tab-pane" id="tab-map">
							On the service we give to our clients. Our friendly team members are always willing to help you understand your present technology requirements and provide suggestions on your future needs. It can be the packaging of an item or the design of its website and Applications.
						</div>
					</div>
				</div>


			</div>
		</div>
	</section>
</main>

<!-- Map modal START -->
<div class="modal fade" id="mapmodal" tabindex="-1" aria-labelledby="mapmodalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered modal-lg">
		<div class="modal-content">
			<!-- Title -->
			<div class="modal-header">
				<h5 class="modal-title" id="mapmodalLabel">View Our Hotel Location</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<!-- Map -->
			<div class="modal-body p-0">				
				<div class="p-5">Modal map</div>
			</div>
			<!-- Button -->
			<div class="modal-footer">
			</div>
		</div>
	</div>
</div>
<!-- Map modal END -->






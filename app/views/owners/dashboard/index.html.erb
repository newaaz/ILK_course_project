<% provide(:title, 'Dashboard owner') %>

<h1>Dashboard Owner</h1>
<hr>
<h2>Properties:</h2>

<% @properties.each do |property| %>
  <h3><%= property.title %></h3>
  <%= link_to image_tag(property.avatar.variant(resize_to_limit: [600, 200])), property %>
  <p>
    <%= link_to 'Edit', edit_property_path(property), class: 'btn btn-warning' %>
    <%= link_to "Delete", property_path(property), data: { "turbo-method": :delete }, class: 'btn btn-outline-danger' %>
    <%= link_to 'Add room', new_property_room_path(property), class: 'btn btn-primary btn-sm' %>
  </p>
  <br>
  <% if property.orders.any? %>
    <h4>Orders</h4>
    <% property.orders.each do |order| %>
      <%= link_to "â„–-#{order.id}", order %>
      <br>
    <% end %>
  <% end %>

  <% if property.rooms.any? %>
    <h4>Rooms:</h4>
    <%= render partial: 'room', collection: property.rooms, as: :room %>
  <% end %>  
<% end %>

